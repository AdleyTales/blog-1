# React-SketchApp 调研

## React-SketchApp是什么？

2017年4月，Airbnb 的工程师发布了名为 `React-SketchApp` 的开源库。

`React-SketchApp`号称为设计系统量身定制，能打通设计师和工程师之间的鸿沟，便于人们在一个大规模的设计系统中协同工作。

`React-SketchApp`可以让你写出符合Sketch文档规范的React组件，它通过将 React 元素渲染到 Sketch。

## React-SketchApp的来源

设计系统使设计师能够重复使用样式，组件和模板，从而使他们能够将时间专注于更高层次的思考。

一个好的设计系统也使开发者更有信心地实现新的功能，而不用依赖设计师标注或抠像素。

Airbnb有一套设计系统DLS，它从开始的排版，颜色和间距，成长为跨平台、屏幕尺寸、语言工作的丰富的部件库。

对于系统的每个修改，都会创建一系列工作流。文档要被更新，每一个应用程序的代码必须被改变，Sketch模板也被重绘。这些工作必须协调进行，每个部分的源文件都必须始终与其它部分保持同步。

一个设计系统是永远不可能十全十美，维护Sketch模板还是依赖于人频繁地去手工调整，Sketch模版成为了瓶颈之一。

例如，改变配色就可能会影响几十个组件。每个组件必须严格按照行高和行距来重绘。为了在不同格式中的显示效果而转换颜色、注释功能，并计算颜色对比度和可实现性等，都增加了出现错误和不一致的可能性。**基于图形的设计工具**在版本控制是非常糟糕的。所有这些可动部件留给我们的，经常是不确定的系统状态。

Airbnb的团队提出了一个问题：“我们可不可以用React来写Sketch文件呢？”。

而随着 `Sketch 43` 的发布，由于文件格式完全开源和 JSON 化，前端代码和设计稿的互相转换和同步是可行的道路了。

`React-SketchApp` 就这样诞生了。

```
“我们正在将代码变为设计工具。让资源更贴近工作，资源不仅包括布局和设计，也包括逻辑和数据。这有助于缩小工程师和设计师之间的差距，从而减少了对设计规范或标注的需求，以及理想与现实之间所需的步骤”

——Alex Schleifer，Airbnb设计主管
```

## React-SketchApp能做什么？

[官方文档](http://airbnb.io/react-sketchapp/#what-can-i-do-with-it)中，列举了以下几个用途：

* 管理设计系统

    * React-SketchApp 是为 Airbnb 的设计系统而设计的
    * 这是在大型设计系统中管理sketch的最简单方法

* 将实际组件用于设计

    * 之前，设计师维护一套 sketch 文件，工程师维护三套组件代码（如果用了 RN 或者 Weex，理想情况下可以只维护一套）。这会导致很多重复工作量：任何改动都需要设计师和工程师在设计稿和多份代码之间做同步。
    * Airbnb 的这个工具的目的就是让基于 React 的代码成为唯一的 `source of truth`，通过一份代码渲染三端组件 + 生成 sketch 文件。
    * 对于设计师而言，就是将设计方案实现为 React 组件，在 Sketch 中通过真实的组件进行渲染。

* 使用真实数据进行设计

    * 在设计过程中，不同的数据可能会影响页面的展示，所以使用真实数据进行设计是非常重要的。
    * 在React-SketchApp中，由于使用了 React 组件，可以实现获取实时数据，并将其渲染在 Sketch 中。

* 在 Sketch 之上构建新工具

    * 对自定义设计工具来说，把 Sketch 用作画布是最简单方法

## 我们是否需要 React-SketchApp

`React-SketchApp` 的目的是，让设计师专注于设计，工程师专注代码。

但是，目前只是做了 `React to Sketch` ，也就是从React代码到设计稿的生成是单向的，这意味着以后任何对设计的改动，必须以修改代码的形式来实现。

换个说法，就是设计师必须得会写 React。

按前端大神尤雨溪(Vue.js框架的作者)的观点：

```
想法很有前瞻性，但落地对团队要求极高。主要的原因在于这套系统就是想用一套生产环境代码通吃，那么组件中不可避免会混杂相当多的交互和工程细节。从工程师的角度说，一个普通设计师学了点 React 基础，你放心让他改么？如果这个设计师的代码水平都可以直接改生产用的组件了，这样的人又有几个？客观来说，能够负责设计系统的设计师，肯定已经得是设计师里面逻辑思维能力很强的那种了。但这样的以代码为 source of truth 的系统，负责基础组件的团队必须个个是设计和开发的高级跨界人才，衍生子系统的设计师也得有初级工程师的代码能力。
```

确实，在 Airbnb 的这种工作模式下，设计师写代码，有完整的工作流，使用真实的业务数据，按工程化的方式管理整个产品的设计系统，这也是 Airbnb 的设计团队在尝试的新的工作方式。但是对于大多数的设计团队来说，由于缺少写代码的设计师，这种模式比较难落地。

## 总结

做出一个高效组织的设计系统并且进一步弥合开发和设计之间的鸿沟，是很多团队都想做到的事情。

有的人尝试使用设计工具生成代码，有人又在尝试用代码生成设计稿。

本质上都是在试图打通编程和设计之间的隔阂。

`React-SketchApp`给设计师们提供了一个全新的设计工作流程：在时下最流行的 React 前端框架下用代码进行设计，并实时渲染到 Sketch 中审阅设计。

但是该项目对于设计师的要求较高，实际使用的场景和工作模式，还是有待继续探讨。

